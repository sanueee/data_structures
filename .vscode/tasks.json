{
  "version": "2.0.0",
  "options": {
    "cwd": "${workspaceFolder}",
    "shell": { "executable": "/bin/zsh", "args": ["-l", "-c"] }
  },
  "tasks": [
    {
      "label": "build current (Debug)",
      "type": "shell",
      "command": "mkdir -p build && clang -g -std=c17 -Wall -Wextra -Wpedantic -fno-omit-frame-pointer -I include \"${file}\" -o \"build/${fileBasenameNoExtension}\"",
      "problemMatcher": "$gcc",
      "group": { "kind": "build", "isDefault": true },
      "presentation": { "reveal": "silent", "panel": "dedicated", "close": true }
    },
    {
      "label": "build all (Debug)",
      "type": "shell",
      "command": "mkdir -p build && find . -type f -name '*.c' -not -path './build/*' -print0 | xargs -0 clang -g -std=c17 -Wall -Wextra -Wpedantic -I include -o build/app",
      "problemMatcher": "$gcc",
      "group": "build",
      "presentation": { "reveal": "silent", "panel": "dedicated", "close": true }
    },
    {
      "label": "clean",
      "type": "shell",
      "command": "rm -rf build",
      "presentation": { "reveal": "silent", "close": true }
    }
  ]
}